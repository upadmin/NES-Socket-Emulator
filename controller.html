<html>
  <head>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      var socket = io.connect('/');

      var sendData = function(button, state) {
        console.log(button + ' is ' + state);
        socket.emit('buttonPress', button, state);
      };

/*      function absorbEvent_(event) {*/
/*        var e = event || window.event;*/
/*        e.preventDefault && e.preventDefault();*/
/*        e.stopPropagation && e.stopPropagation();*/
/*        e.cancelBubble = true;*/
/*        e.returnValue = false;*/
/*        return false;*/
/*      }*/
/**/
/*      function preventLongPressMenu(node) {*/
/*        node.ontouchstart = node.on('vmousedown'click;*/
/*        //node.ontouchmove = absorbEvent_;*/
/*        node.ontouchend = absorbEvent_;*/
/*        //node.ontouchcancel = absorbEvent_;*/
/*      }*/

/*      function init() {*/
/*        preventLongPressMenu(document.getElementById('theimage'));*/
/*      }*/
    </script>

    <style type="">
      <!--
      body {
      background-image: url(assets/controller.png);
      background-repeat: no-repeat;
      height: 100%;
      width: 100%;
      background-position: bottom;
      }
      //-->
    </style>


  </head>

  <body>
<!--    <div style="text-align:center; width:247px; margin-left:auto; margin-right:auto;">
      <img id="Image-Maps_1201304111749564" src="/assets/controller.png" usemap="#Image-Maps_1201304111749564" border="0" width="247" height="600" alt="" />
      <map id="_Image-Maps_1201304111749564" name="Image-Maps_1201304111749564">
        <area id="a" onclick=sendData ('a', 'down')  shape="rect" coords="140,66,207,136" alt="abutton" title="abutton"/>
        <area id="b" shape="rect" coords="140,200,207,136"  alt="abutton" title="abutton"/>
        <area id="start" shape="rect" coords="150,242,202,312" alt="start" title="start"/>
        <area id="select" shape="rect" coords="148,330,200,400" alt="select" title="select"/>
        <area id="right" shape="rect" coords="128,445,162,479" alt="right" title="right"/>
        <area id="down" shape="rect" coords="166,483,200,517" alt="down" title="down"/>
        <area id="up" shape="rect" coords="91,483,125,517"  alt="up" title="up"/>
        <area id="left" shape="rect" coords="128,521,162,555" alt="left" title="left"/>
      </map>
    </div>
    -->
    <script>
      $('area#a').on('vmousedown', document, (function() {
        sendData('a', 'down');
      }));

      $('area#a').on('vmouseup', document, (function() {
        sendData('a', 'up');
      }));

      $('area#b').on('vmousedown', document, (function() {
        sendData('b', 'down');
      }));

      $('area#b').on('vmouseup', document, (function() {
        sendData('b', 'up');
      }));

      $('area#start').on('vmouseup', document, (function() {
        sendData('start', 'up');
      }));

      $('area#start').on('vmousedown', document, (function() {
        sendData('start', 'down');
      }));

      $('area#select').on('vmouseup', document, (function() {
        sendData('select', 'up');
      }));

      $('area#select').on('vmousedown', document, (function() {
        sendData('select', 'down');
      }));

      $('area#up').on('vmouseup', document, (function() {
        sendData('up', 'up');
      }));

      $('area#up').on('vmousedown', document, (function() {
        sendData('up', 'down');
      }));

      $('area#down').on('vmouseup', document, (function() {
        sendData('down', 'up');
      }));

      $('area#down').on('vmousedown', document, (function() {
        sendData('down', 'down');
      }));

      $('area#left').on('vmouseup', document, (function() {
        sendData('left', 'up');
      }));

      $('area#left').on('vmousedown', document, (function() {
        sendData('left', 'down');
      }));

      $('area#right').on('vmouseup', document, (function() {
        sendData('right', 'up');
      }));

      $('area#right').on('vmousedown', document, (function() {
        sendData('right', 'down');
      }));
    </script>
  </body>
</html>
