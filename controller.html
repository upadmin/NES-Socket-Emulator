<html>
  <head>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      var socket = io.connect('/');

      var sendData = function(button, state) {
        socket.emit('controllerData', button, state);
      };

      socket.on('news', function (data) {
        console.log(data);
        socket.emit('my other event', { my: 'data' });
      });
    </script>
  </head>

  <body>
    <!--    <img src="/assets/controller.png">
    <button id="butt" onclick="sendData('clicked button')"> blah </button>
  </body>-->
  <div style="text-align:center; width:247px; margin-left:auto; margin-right:auto;">
    <img id="Image-Maps_1201304111749564" src="/assets/controller.png" usemap="#Image-Maps_1201304111749564" border="0" width="247" height="600" alt="" />
    <map id="_Image-Maps_1201304111749564" name="Image-Maps_1201304111749564">
      <area id="a" shape="rect" coords="140,66,207,136" alt="abutton" title="abutton"/>
      <area id="b" shape="rect" coords="140,66,207,136"  alt="abutton" title="abutton"/>
      <area id="start" shape="rect" coords="150,242,202,312" alt="start" title="start"/>
      <area id="select" shape="rect" coords="148,330,200,400" alt="select" title="select"/>
      <area id="right" shape="rect" coords="128,445,162,479" alt="right" title="right"/>
      <area id="down" shape="rect" coords="166,483,200,517" alt="down" title="down"/>
      <area id="up" shape="rect" coords="91,483,125,517"  alt="up" title="up"/>
      <area id="left" shape="rect" coords="128,521,162,555" alt="left" title="left"/>
    </map>
  </div>

  <script>
    $('area#a').on('vmousedown', document, (function() {
      sendData('a', 'down');
    }));
    $('area#a').on('vmouseup', document, (function() {
      sendData('a', 'up');
    }));
    $('area#b').on('vmousedown', document, (function() {
      sendData('b', 'down');
    }));
    $('area#start').on('vmouseup', document, (function() {
      sendData('start', 'up');
    }));
    $('area#select').on('vmouseup', document, (function() {
      sendData('select', 'up');
    }));
    $('area#up').on('vmouseup', document, (function() {
      sendData('up', 'up');
    }));
    $('area#down').on('vmouseup', document, (function() {
      sendData('down', 'up');
    }));
    $('area#left').on('vmouseup', document, (function() {
    sendData('left', 'up');
    }));
    $('area#right').on('vmouseup', document, (function() {
    sendData('right', 'up');
    }));







  </script>
</html>
